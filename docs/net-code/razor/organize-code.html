<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PH2TVNW');</script>
    <!-- End Google Tag Manager -->
    <!-- azing recipe embed resizer -->
    <script src="https://cdn.azing.org/e/1/embed.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>How To Organize your Code in Razor | 2sxc 16 / EAV 16 (Archive) </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="How To Organize your Code in Razor | 2sxc 16 / EAV 16 (Archive) ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../assets/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
  
  <meta property="docfx:rel" content="../../">
  <meta property="docfx:newtab" content="true">

    <!-- Enable lightboxes on all images using https://github.com/roel4ez/docfx-lightbox-plugin -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.13/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- overwrite the built in highlightJs with a newer version -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/default.min.css">

    <!-- fancybox -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../assets/logos/vcurrent/50.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>

                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../basics/index.html" title="Basics">Basics</a>
                      </li>
                      <li>
                          <a href="../../abyss/index.html" title="Abyss">Abyss</a>
                      </li>
                      <li>
                          <a href="../../web-api/index.html" title="Web APIs">Web APIs</a>
                      </li>
                      <li class="active">
                          <a href="../../net-code/index.html" title="C# &amp; Razor">C# &amp; Razor</a>
                      </li>
                      <li>
                          <a href="../../api/dot-net/index.html" title=".net API">.net API</a>
                      </li>
                      <li>
                          <a href="../../js-code/index.html" title="JS &amp; TS API">JS &amp; TS API</a>
                      </li>
                </ul>            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="xxx-breadcrumb">
            <a class="navbar-right version-button" style="padding: 10px 0 0 0;" href="https://go.2sxc.org/docs-versions" target="_blank" title="archive 🔒">
              v16 🔒 <span class="glyphicon glyphicon-menu-down"></span>
            </a>
            <div id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="NetCode.Razor.OrganizeCode">
<h1 id="how-to-organize-your-code-in-razor">How To Organize your Code in Razor</h1>

<p>In simple scenarios you have some Razor files containing a bit of HTML and some code. As your solution grows, you'll want to organize your work better to ensure that you can maintain it. 2sxc offers various ways to do this:</p>
<div style="background: #0088F444; overflow: auto">
  <img src="../../shared/tutorials/assets/razor.png" width="200px" style="padding-right: 20px; float: left">
  <h2> Discover More in the Razor Tutorials </h2>
<p>We have an rich series of <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor">Razor tutorials</a>. You should really check them out 👍.</p>
</div>
<h2 id="recommended-methods-v12">Recommended Methods v12+</h2>
<h3 id="reuse-a-partial-view-with--v12">Reuse a Partial View with @Html.Partial(...) v12+</h3>
<p>Razor templates can <em>include</em> other razor files with more Razor code inside them, using <code>Html.Partial(&quot;_Something.cshtml&quot;)</code>.
This is a standard asp.net function to render another Razor file where you need it.
You usually use it to make small component Razor files which might just show a button or something, and then call that file.</p>
<p>You can find examples in the <a href="https://2sxc.org/dnn-tutorials/en/razor/reuse110/page">tutorials</a></p>
<h3 id="share-a-cs-file-as-library-v10">Share a .cs File as Library v10+</h3>
<p>Sometimes you want to share C# code which isn't meant for HTML-output. For example, a security check. You can do this using <code>CreateInstance(...)</code>.</p>
<p>If you:</p>
<ol>
<li>need to share code with razor and Webapi</li>
<li>don't need razor specific features like <code>@helper</code></li>
</ol>
<p>You can create a <code>.cs</code> class file and share this across razor files AND WebAPI files.</p>
<p>To use it, you need something like:</p>
<pre><code class="lang-razor">@{
  var helper = CreateInstance(&quot;_Helper.cs&quot;);
}
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>The helper file should ideally inherit from <code>Custom.Hybrid.Code14</code> (or similar <a class="xref" href="../../api/dot-net/Custom.Hybrid.html">base classes</a>).
in which case it will have have the same full APIs incl. the <code>App</code> and <code>Content</code> object just like the main file.</p>
</div>
<p>👉🏼 See <a href="https://2sxc.org/dnn-tutorials/en/razor/reuse320/page">examples in the tutorials</a></p>
<h3 id="reuse-a-template-delegate-function-generating-html-v5">Reuse a Template Delegate Function generating HTML v5+</h3>
<p><a href="https://medium.com/@isaac.d.adams/reusing-html-blocks-without-partials-or-view-components-6db59b86eab7">Template Delegates</a>
are a very old Razor feature, but they are quite hard to use.</p>
<p>They are similar to <code>@helpers</code> but work in both Oqtane and DNN.</p>
<p>👉🏼 See <a href="https://2sxc.org/dnn-tutorials/en/razor/reuse101/page">tutorial example</a>.</p>
<h2 id="older--alternative-methods-dnn-only">Older / Alternative Methods (DNN only)</h2>
<h3 id="reuse-snippets-with--in-razor">Reuse Snippets with @helper in Razor</h3>
<p>Razor has a <code>@helper</code> syntax which allows you to create fragments and re-use them.</p>
<p>👉🏼 Discover this in the <a href="https://2sxc.org/dnn-tutorials/en/razor/reuse/home">tutorials</a>.</p>
<p>This will not work in Oqtane, as the newer Razor engines don't support this.</p>
<h3 id="reuse-a-partial-view-with-">Reuse a Partial View with @RenderPage()</h3>
<p><code>@RenderPage(...)</code> does the same thing as <code>@Html.Partial(...)</code> (see above) but it will only work on DNN, not Oqtane.</p>
<h3 id="share-a-cshtml-file-as-library-of-sub-templates">Share a .cshtml File as Library of Sub-Templates</h3>
<p>When you have a <strong>lot of components</strong> it may be easier to create a library of <code>@helper</code> commands. This library is just a normal <code>.cshtml</code> file - usually in a folder called <code>shared</code> or something, and you can then call these snippets and helpers from all your template files.</p>
<p>To use it, you need something like:</p>
<pre><code class="lang-razor">@{
  var helper = CreateInstance(&quot;_Helper.cshtml&quot;);
}
</code></pre>
<p>👉🏼 See <a href="https://2sxc.org/dnn-tutorials/en/razor/reuse210/page">examples in the tutorials</a></p>
<h3 id="razor-code-behind">Razor Code-Behind</h3>
<p>If your Razor file is getting kind of large because of C# functions, best place it in a <a class="xref" href="code-behind.html">Razor Code-Behind</a>.</p>
<hr>
<h2 id="history">History</h2>
<ol>
<li>RenderPage has always been part of Razor so part of 2sxc v2</li>
<li>CreateInstance for <code>.cshtml</code> was introduced ca. v6</li>
<li>CreateInstance for <code>.cs</code> was introduced in 2sxc v10.01</li>
<li>Code-Behind Introduced in 2sxc 11.0</li>
<li>Code-Behind deprecated in 2sxc 12 because it's not compatible with Oqtane</li>
</ol>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>

    <!-- override the built-in highlightjs with a newer version -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="../../styles/cshtml-razor.js"></script>
    <script>
        hljs.registerLanguage('cshtml-razor', window.hljsDefineCshtmlRazor);
        hljs.highlightAll();
    </script>

    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.13/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="../../styles/2sxc-scripts.js"></script>

    <!-- fancybox -->
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  </body>
</html>
